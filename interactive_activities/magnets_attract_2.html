<html>
<head>
<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  background: #f2f2f2;
}
body {
  display: flex;
  align-items: center;
  justify-content: center;
}
svg {
  width: 90vmin;
  height: 90vmin;
}
text {
  font-family: Arial, sans-serif;
}
</style>
</head>
<body>
<svg viewBox="0 0 800 800">
  <rect x="0" y="0" width="800" height="800" fill="#e5f4ff"/>

  <rect x="60" y="60" width="680" height="680" rx="20" ry="20" fill="#ffffff" stroke="#b0c4de" stroke-width="2"/>

  <text x="80" y="110" font-size="28" fill="#1f3b5b" font-weight="bold">Magnetic Field Visualization</text>

  <rect x="80" y="130" width="640" height="1" fill="#d0d7e2"/>

  <rect x="80" y="150" width="380" height="220" rx="16" ry="16" fill="#f7fbff" stroke="#c7d6eb" stroke-width="2"/>

  <rect x="180" y="210" width="180" height="60" rx="8" ry="8" fill="#ff5b5b"/>
  <rect x="260" y="210" width="100" height="60" rx="8" ry="8" fill="#4a90e2"/>
  <text x="218" y="248" font-size="22" fill="#ffffff" font-weight="bold">N</text>
  <text x="308" y="248" font-size="22" fill="#ffffff" font-weight="bold">S</text>

  <g id="fieldStaticEven">
    <path d="M140 230 C160 170 220 150 270 150 C320 150 380 170 400 230" fill="none" stroke="#8cb3ff" stroke-width="2" opacity="0.7"/>
    <path d="M140 270 C160 330 220 350 270 350 C320 350 380 330 400 270" fill="none" stroke="#8cb3ff" stroke-width="2" opacity="0.7"/>
  </g>

  <g id="fieldStaticOdd">
    <path d="M140 210 C180 160 220 140 270 140 C320 140 360 160 400 210" fill="none" stroke="#b0c8ff" stroke-width="2" opacity="0.7"/>
    <path d="M140 290 C180 340 220 360 270 360 C320 360 360 340 400 290" fill="none" stroke="#b0c8ff" stroke-width="2" opacity="0.7"/>
  </g>

  <g id="fieldAnimated" opacity="0">
    <path d="M140 230 C160 170 220 150 270 150 C320 150 380 170 400 230" fill="none" stroke="#3366ff" stroke-width="3"/>
    <path d="M140 270 C160 330 220 350 270 350 C320 350 380 330 400 270" fill="none" stroke="#3366ff" stroke-width="3"/>
    <path d="M140 210 C180 160 220 140 270 140 C320 140 360 160 400 210" fill="none" stroke="#3366ff" stroke-width="3"/>
    <path d="M140 290 C180 340 220 360 270 360 C320 360 360 340 400 290" fill="none" stroke="#3366ff" stroke-width="3"/>
  </g>

  <text x="90" y="190" font-size="16" fill="#4a4a4a">Magnet under paper</text>

  <rect x="490" y="150" width="230" height="220" rx="16" ry="16" fill="#fdf7e8" stroke="#f0d39a" stroke-width="2"/>

  <text x="505" y="185" font-size="18" fill="#7b5b1d" font-weight="bold">Activity Steps</text>
  <text x="505" y="210" font-size="14" fill="#555555">1. Sprinkle iron filings on paper.</text>
  <text x="505" y="232" font-size="14" fill="#555555">2. Place bar magnet under paper.</text>
  <text x="505" y="254" font-size="14" fill="#555555">3. Gently tap to see field lines.</text>
  <text x="505" y="276" font-size="14" fill="#555555">4. Observe and sketch the pattern.</text>

  <text x="505" y="310" font-size="14" fill="#888888">Tap to reveal how filings</text>
  <text x="505" y="330" font-size="14" fill="#888888">align with the magnetic field.</text>

  <g id="tapButton" cursor="pointer">
    <rect x="520" y="340" width="170" height="40" rx="20" ry="20" fill="#4a90e2"/>
    <text id="tapButtonLabel" x="535" y="365" font-size="16" fill="#ffffff" font-weight="bold">Tap to show field lines</text>
  </g>

  <rect x="80" y="390" width="640" height="1" fill="#d0d7e2"/>

  <rect x="80" y="410" width="300" height="150" rx="16" ry="16" fill="#f7fbff" stroke="#c7d6eb" stroke-width="2"/>
  <text x="96" y="440" font-size="18" fill="#1f3b5b" font-weight="bold">Materials</text>
  <text x="96" y="468" font-size="14" fill="#555555">• Bar magnets</text>
  <text x="96" y="490" font-size="14" fill="#555555">• Iron filings</text>
  <text x="96" y="512" font-size="14" fill="#555555">• Paper</text>

  <rect x="420" y="410" width="300" height="240" rx="16" ry="16" fill="#f7fbff" stroke="#c7d6eb" stroke-width="2"/>
  <text x="436" y="440" font-size="18" fill="#1f3b5b" font-weight="bold">Procedure</text>
  <text x="436" y="468" font-size="14" fill="#555555">1. Place the bar magnet under the paper.</text>
  <text x="436" y="490" font-size="14" fill="#555555">2. Sprinkle iron filings evenly on top.</text>
  <text x="436" y="512" font-size="14" fill="#555555">3. Gently tap the paper so filings move.</text>
  <text x="436" y="534" font-size="14" fill="#555555">4. Watch how they trace field lines.</text>
  <text x="436" y="556" font-size="14" fill="#555555">5. Sketch the pattern you see.</text>

  <rect x="80" y="580" width="640" height="140" rx="16" ry="16" fill="#fefeff" stroke="#d0d7e2" stroke-width="2"/>
  <text x="96" y="610" font-size="18" fill="#1f3b5b" font-weight="bold">What do you notice?</text>
  <text x="96" y="638" font-size="14" fill="#555555">How do the iron filings show the invisible magnetic field?</text>
  <text x="96" y="660" font-size="14" fill="#555555">Where are the filings most densely packed?</text>
</svg>
<script>
var button = document.getElementById('tapButton');
var fieldAnimated = document.getElementById('fieldAnimated');
var fieldStaticEven = document.getElementById('fieldStaticEven');
var fieldStaticOdd = document.getElementById('fieldStaticOdd');
var label = document.getElementById('tapButtonLabel');
var showing = false;
var animId = null;
var startTime = null;

function animate(timestamp) {
  if (!startTime) startTime = timestamp;
  var progress = (timestamp - startTime) / 600;
  if (progress > 1) progress = 1;
  fieldAnimated.setAttribute('opacity', 0.2 + 0.8 * progress);
  fieldStaticEven.setAttribute('opacity', 0.7 * (1 - progress));
  fieldStaticOdd.setAttribute('opacity', 0.7 * (1 - progress));
  var scale = 1 + 0.03 * Math.sin(progress * Math.PI);
  button.setAttribute('transform', 'translate(0,0) scale(' + scale + ')');
  if (progress < 1) {
    animId = requestAnimationFrame(animate);
  } else {
    button.setAttribute('transform', 'translate(0,0)');
  }
}

function resetAnimation() {
  if (animId) cancelAnimationFrame(animId);
  startTime = null;
}

button.addEventListener('click', function() {
  resetAnimation();
  if (!showing) {
    showing = true;
    label.textContent = 'Tap to hide field lines';
    animId = requestAnimationFrame(animate);
  } else {
    showing = false;
    label.textContent = 'Tap to show field lines';
    fieldAnimated.setAttribute('opacity', 0);
    fieldStaticEven.setAttribute('opacity', 0.7);
    fieldStaticOdd.setAttribute('opacity', 0.7);
    button.setAttribute('transform', 'translate(0,0)');
  }
});
</script>
</body>
</html>