<html>
<head>
<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  background: #f0f0f0;
}
body {
  display: flex;
  align-items: center;
  justify-content: center;
}
svg {
  width: 95vmin;
  height: 95vmin;
}
text {
  font-family: Arial, sans-serif;
}
</style>
</head>
<body>
<svg viewBox="0 0 800 800">
  <rect x="0" y="0" width="800" height="800" fill="#f6f7fb"/>

  <rect x="40" y="40" width="720" height="720" rx="24" ry="24" fill="#ffffff" stroke="#d0d4e4" stroke-width="2"/>

  <rect x="40" y="40" width="720" height="80" rx="24" ry="24" fill="#2d3a67"/>
  <text x="60" y="90" fill="#ffffff" font-size="28" font-weight="bold">Momentum Lab Ideas</text>

  <rect x="60" y="140" width="680" height="60" rx="18" ry="18" fill="#eef0f8" stroke="#d0d4e4" stroke-width="1.5"/>
  <text x="80" y="178" fill="#2d3a67" font-size="20" font-weight="bold">Drag each idea card to the correct collision type category.</text>

  <g id="columnElastic">
    <rect x="60" y="220" width="210" height="520" rx="20" ry="20" fill="#f9fbff" stroke="#c3c8dd" stroke-width="1.5"/>
    <rect x="60" y="220" width="210" height="60" rx="20" ry="20" fill="#4c6fff"/>
    <text x="74" y="258" fill="#ffffff" font-size="20" font-weight="bold">Elastic Collisions</text>
  </g>

  <g id="columnInelastic">
    <rect x="295" y="220" width="210" height="520" rx="20" ry="20" fill="#f9fbff" stroke="#c3c8dd" stroke-width="1.5"/>
    <rect x="295" y="220" width="210" height="60" rx="20" ry="20" fill="#ff7d5a"/>
    <text x="312" y="258" fill="#ffffff" font-size="20" font-weight="bold">Inelastic Collisions</text>
  </g>

  <g id="columnBoth">
    <rect x="530" y="220" width="210" height="520" rx="20" ry="20" fill="#f9fbff" stroke="#c3c8dd" stroke-width="1.5"/>
    <rect x="530" y="220" width="210" height="60" rx="20" ry="20" fill="#22b573"/>
    <text x="555" y="258" fill="#ffffff" font-size="20" font-weight="bold">Works for Both</text>
  </g>

  <g id="dropElastic">
    <rect x="75" y="300" width="180" height="420" rx="16" ry="16" fill="#ffffff" stroke="#dfe3f0" stroke-width="1.2" stroke-dasharray="6 5" opacity="0.7"/>
    <text x="90" y="330" fill="#8b90a5" font-size="14">Drop ideas here</text>
  </g>

  <g id="dropInelastic">
    <rect x="310" y="300" width="180" height="420" rx="16" ry="16" fill="#ffffff" stroke="#dfe3f0" stroke-width="1.2" stroke-dasharray="6 5" opacity="0.7"/>
    <text x="325" y="330" fill="#8b90a5" font-size="14">Drop ideas here</text>
  </g>

  <g id="dropBoth">
    <rect x="545" y="300" width="180" height="420" rx="16" ry="16" fill="#ffffff" stroke="#dfe3f0" stroke-width="1.2" stroke-dasharray="6 5" opacity="0.7"/>
    <text x="560" y="330" fill="#8b90a5" font-size="14">Drop ideas here</text>
  </g>

  <g id="card1" class="card" data-answer="elastic">
    <rect x="90" y="330" width="620" height="110" rx="16" ry="16" fill="#ffffff" stroke="#c8cde0" stroke-width="1.5"/>
    <rect x="90" y="330" width="6" height="110" rx="3" ry="3" fill="#4c6fff"/>
    <text x="110" y="360" fill="#2d3a67" font-size="18" font-weight="bold">Bouncing Balls</text>
    <text x="110" y="382" fill="#5b627a" font-size="13">Purpose: Understand conservation of momentum in elastic collisions.</text>
    <text x="110" y="400" fill="#8b90a5" font-size="12">Materials: Ping pong balls, ruler, marker</text>
    <text x="110" y="418" fill="#8b90a5" font-size="11">Procedure: Use a ruler to propel one ball into another and observe how they move apart.</text>
  </g>

  <g id="card2" class="card" data-answer="inelastic">
    <rect x="90" y="460" width="620" height="110" rx="16" ry="16" fill="#ffffff" stroke="#c8cde0" stroke-width="1.5"/>
    <rect x="90" y="460" width="6" height="110" rx="3" ry="3" fill="#ff7d5a"/>
    <text x="110" y="490" fill="#2d3a67" font-size="18" font-weight="bold">Sticky Collisions</text>
    <text x="110" y="512" fill="#5b627a" font-size="13">Purpose: Explain why objects stick together in inelastic collisions.</text>
    <text x="110" y="530" fill="#8b90a5" font-size="12">Materials: Velcro strips, small toy cars</text>
    <text x="110" y="548" fill="#8b90a5" font-size="11">Procedure: Cars with Velcro collide and stick together, showing momentum conservation.</text>
  </g>

  <g id="card3" class="card" data-answer="both">
    <rect x="90" y="590" width="620" height="110" rx="16" ry="16" fill="#ffffff" stroke="#c8cde0" stroke-width="1.5"/>
    <rect x="90" y="590" width="6" height="110" rx="3" ry="3" fill="#22b573"/>
    <text x="110" y="620" fill="#2d3a67" font-size="18" font-weight="bold">Pool Ball Math</text>
    <text x="110" y="642" fill="#5b627a" font-size="13">Purpose: Predict post-collision velocities in simple scenarios.</text>
    <text x="110" y="660" fill="#8b90a5" font-size="12">Materials: Pool balls of different masses, pool table, cue stick</text>
    <text x="110" y="678" fill="#8b90a5" font-size="11">Procedure: Use pool balls to show how momentum is conserved in collisions.</text>
  </g>

  <g id="checkButton">
    <rect x="600" y="150" width="140" height="44" rx="22" ry="22" fill="#4c6fff"/>
    <text x="625" y="178" fill="#ffffff" font-size="18" font-weight="bold">Check</text>
  </g>

  <text id="feedbackText" x="60" y="190" fill="#2d3a67" font-size="18"></text>

</svg>
<script>
(function(){
  var svg = document.querySelector('svg');
  var cards = Array.from(document.querySelectorAll('.card'));
  var drops = {
    elastic: document.getElementById('dropElastic'),
    inelastic: document.getElementById('dropInelastic'),
    both: document.getElementById('dropBoth')
  };
  var dropAreas = {
    elastic: {x:75,y:300,w:180,h:420},
    inelastic: {x:310,y:300,w:180,h:420},
    both: {x:545,y:300,w:180,h:420}
  };
  var cardHome = {};
  cards.forEach(function(c){
    var r = c.getBoundingClientRect();
    var pt = svg.createSVGPoint();
    pt.x = r.x; pt.y = r.y;
    var loc = pt.matrixTransform(svg.getScreenCTM().inverse());
    cardHome[c.id] = {x: parseFloat(c.querySelector('rect').getAttribute('x')), y: parseFloat(c.querySelector('rect').getAttribute('y'))};
  });
  var selected = null, offsetX=0, offsetY=0;
  var currentTargets = {};
  function setCardPos(card,x,y){
    var children = card.children;
    for(var i=0;i<children.length;i++){
      var el = children[i];
      if(el.tagName==='rect' || el.tagName==='text'){
        var attrX = el.getAttribute('x');
        var attrY = el.getAttribute('y');
        if(attrX!==null){
          var dx = x - parseFloat(cardHome[card.id].x);
          var dy = y - parseFloat(cardHome[card.id].y);
          if(el.tagName==='rect'){
            el.setAttribute('x', parseFloat(attrX) + dx);
            el.setAttribute('y', parseFloat(attrY) + dy);
          } else {
            el.setAttribute('x', parseFloat(attrX) + dx);
            el.setAttribute('y', parseFloat(attrY) + dy);
          }
        }
      }
    }
    cardHome[card.id].x = x;
    cardHome[card.id].y = y;
  }
  cards.forEach(function(card){
    card.addEventListener('pointerdown', function(e){
      if(card.dataset.locked==="true") return;
      selected = card;
      var rect = card.querySelector('rect');
      offsetX = e.clientX - rect.getBoundingClientRect().x;
      offsetY = e.clientY - rect.getBoundingClientRect().y;
      card.style.cursor = 'grabbing';
      card.parentNode.appendChild(card);
      e.preventDefault();
    });
  });
  svg.addEventListener('pointermove', function(e){
    if(!selected) return;
    var pt = svg.createSVGPoint();
    pt.x = e.clientX - offsetX;
    pt.y = e.clientY - offsetY;
    var loc = pt.matrixTransform(svg.getScreenCTM().inverse());
    var newX = loc.x;
    var newY = loc.y;
    setCardPos(selected,newX,newY);
  });
  svg.addEventListener('pointerup', function(e){
    if(!selected) return;
    var rect = selected.querySelector('rect');
    var cx = parseFloat(rect.getAttribute('x')) + parseFloat(rect.getAttribute('width'))/2;
    var cy = parseFloat(rect.getAttribute('y')) + parseFloat(rect.getAttribute('height'))/2;
    var placed = false;
    for(var key in dropAreas){
      var d = dropAreas[key];
      if(cx>d.x && cx<d.x+d.w && cy>d.y && cy<d.y+d.h){
        setCardPos(selected, d.x+10, d.y+10 + (selected.id==='card2'?140:(selected.id==='card3'?280:0)));
        currentTargets[selected.id]=key;
        placed = true;
        break;
      }
    }
    if(!placed){
      setCardPos(selected, cardHome[selected.id].x, cardHome[selected.id].y);
      delete currentTargets[selected.id];
    }
    selected.style.cursor = 'grab';
    selected = null;
  });

  var checkButton = document.getElementById('checkButton');
  var feedback = document.getElementById('feedbackText');

  checkButton.addEventListener('pointerdown', function(){
    var correct = 0;
    cards.forEach(function(card){
      var ans = card.dataset.answer;
      var placed = currentTargets[card.id];
      var rect = card.querySelector('rect');
      if(placed===ans){
        rect.setAttribute('stroke','#22b573');
        rect.setAttribute('stroke-width','2.5');
        card.dataset.locked="true";
        correct++;
      } else {
        rect.setAttribute('stroke','#ff4b4b');
        rect.setAttribute('stroke-width','2.5');
        delete currentTargets[card.id];
      }
    });
    if(correct===3){
      feedback.textContent = "Nice work! Each idea is in the correct collision category.";
      feedback.setAttribute('fill','#22b573');
    } else {
      feedback.textContent = "Try again. Check which ideas are elastic, inelastic, or work for both.";
      feedback.setAttribute('fill','#ff4b4b');
    }
  });
})();
</script>
</body>
</html>